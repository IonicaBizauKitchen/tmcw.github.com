---
layout: post
title: Heard
categories:
- blog
---

<img class='blink' src='/graphics/heard-giant.png' width='640' height='640' />
<style type='text/css'>
@-webkit-keyframes blinker {
  from { opacity: 1.0; }
  to { opacity: 0.95; }
}
.blink {
  -webkit-animation-name:blinker;
  -webkit-animation-iteration-count:infinite;
  -webkit-animation-timing-function:linear;
  -webkit-animation-duration:1s;
}
</style>

heard is a native Mac application that sits in your menu bar and listens
to what you're listening to in iTunes - and writes it down for posterity.

_It's just the part of last.fm that I want._ It records when you start a song,
how long the song is, the artist, et. cetera. It's anti-social, has nothing
to do with the cloud, and the use case is less precise than 'social sharing and discovery'
the main end-product is the ability to
export your songs to [JSON](http://www.json.org/).

## The Glory Days Of Audioscrobbler + last.fm, Tinfoil Hats

I was an eager user of [last.fm](http://last.fm/) until it was
[acquired by CBS music group](http://blog.last.fm/2007/05/30/lastfm-acquired-by-cbs)
and then the [founders left](http://blog.last.fm/2009/06/10/message-from-the-lastfm-founders-felix-rj-and-martin)
and then there was [all kinds of drama](http://techcrunch.com/2009/05/22/deny-this-lastfm/)
about them _possibly_ [forking over data to the RIAA](http://en.wikipedia.org/wiki/Last.fm#CBS_Acquisition_and_redesign_.282007.E2.80.932009.29).
The tinfoil-hat wearing users with iTunes libraries not entirely purchased
from the iTunes Music 'Store' understandably ran for cover.
That and the new features they tried to implement, like [streaming and subscriptions](http://en.wikipedia.org/wiki/Last.fm#Changes_to_streaming_and_access_on_other_platforms_.282009.E2.80.932011.29)
seemed like a money-making proposition for the wishy-washy [Pandora](http://www.pandora.com/)
audience rather than a feature for the data-hoarding programmer-types
like [myself](http://macwright.org/about/).

But back in the day, everything was cool, and there were
[neat open source apps](https://github.com/mxcl/Audioscrobbler.app) that
logged your plays and [classic infographics that showed them off](http://lastgraph3.aeracode.org/).


## Oh My God I Am Terrible

This app took a really long time to write. An embarrassing amount of time.

I'd really recommend writing Mac apps, even though (possibly _because_)
it fills me with unending puzzlement and rage. It's
not as wild as writing in [lisp](http://paulgraham.com/lisp.html)
or [Factor](http://factorcode.org/), but it's practical, mind-bendy,
infuriating, and guaranteed to take you out of your comfort zone.

It started writing CSV files, like [minute does](http://macwright.org/2012/02/15/minute.html).
But then switched to [Core Data](http://en.wikipedia.org/wiki/Core_Data).
It started without any libraries, and eventually acquired
[Underscore.m](http://underscorem.org/), with the attendant [CocoaPods](http://cocoapods.org/)
dependency. Minute was written before [Automatic Reference Counting](http://clang.llvm.org/docs/AutomaticReferenceCounting.html),
so I had to relearn properties and memory management. Something
as simple as opening an About window took hours of trial to find
the three-line implementation that works.

## Champagne for My Real Friends

There are a few turning-point aha moments.

* [Justin](http://mapbox.com/about/team/#justin-miller) helped out tremendously
  with my dumb questions.
* [Cocoa with Love](http://cocoawithlove.com/2010/05/finding-or-creating-application-support.html) explained
  the whole 'application support' folder thing.

## Back to Minute

Having put in the sweat & tears equity to write heard, I'm going to take
a second pass at improving [minute](http://macwright.org/2012/02/15/minute.html),
and pulling together a number of other projects that have been on the
backburner.

## Get It

This is open-source software, and it's free. It isn't 'signed', so you'll need
to [turn Gatekeeper off](http://its.uiowa.edu/apps2/support/article/4038) if
you're using Mountain Lion.
